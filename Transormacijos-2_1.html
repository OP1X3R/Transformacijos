
<html>
 <head>
  <script type="application/javascript">

    function draw() {
      var canvas = document.getElementById('canvas');
      if (canvas.getContext) {
        var ctx = canvas.getContext("2d");

// Draw border
      ctx.beginPath();
      ctx.moveTo(0,0);
      ctx.lineTo(500,0);
      ctx.lineTo(500,500);
      ctx.lineTo(0,500);
      ctx.closePath();
      ctx.stroke(); 
      }
    }
    function drawBorder()
        {
          var element = document.getElementById('canvas');
          if (element.getContext) {
              var ctx = canvas.getContext("2d");
          }
          ctx.beginPath();
          ctx.moveTo(0,0);
          ctx.lineTo(500,0);
          ctx.lineTo(500,500);
          ctx.lineTo(0,500);
          ctx.closePath();
          ctx.stroke(); 
        }
    function drawTheShape() {
              var element = document.getElementById('canvas');
              if (element.getContext) {
                  var ctx = canvas.getContext("2d");
              }
              ctx.save();
              ctx.clearRect(0,0,canvas.width,canvas.height);
              drawBorder();     
              //draw shape
              ctx.beginPath();
              ctx.moveTo(0,0);
              ctx.lineTo(500,0);
              ctx.lineTo(500,500);
              ctx.lineTo(0,500);
              ctx.lineTo(0,250);
              ctx.lineTo(250,250);
              ctx.lineTo(250,125);
              ctx.lineTo(125,125);
              ctx.lineTo(125,0);
              ctx.lineTo(0,0);
              ctx.fill();
              ctx.restore();
    }
    function drawFirst() {
          var x = 0;
          var y = 0;
          var a = 1;
          var b = 1;
          var element = document.getElementById('canvas');
          if (element.getContext) {
              var ctx = canvas.getContext("2d");
              ctx.clearRect(0, 0,  element.width, element.height);
              drawBorder();
              requestAnimationFrame(transformFirstShape);
          }
            function transformFirstShape() { //drawing in 100 frames
              ctx.save();
              ctx.clearRect(0,0,canvas.width,canvas.height);
              drawBorder();
              ctx.fillStyle = "rgb(0,0,255)";      
              
              //transform shape
              ctx.transform(a, 0 , 0, b,x, y);    
              //draw shape
              ctx.beginPath();
              ctx.moveTo(0,0);
              ctx.lineTo(500,0);
              ctx.lineTo(500,500);
              ctx.lineTo(0,500);
              ctx.lineTo(0,250);
              ctx.lineTo(250,250);
              ctx.lineTo(250,125);
              ctx.lineTo(125,125);
              ctx.lineTo(125,0);
              ctx.lineTo(0,0);
              ctx.fill();
              ctx.restore();
           
              //subtract and add for animation
              a = a - 0.0075;
              b = b - 0.0125;
              x = x + 1.25;
              y = y + 1.25;
              if(x <= 125) requestAnimationFrame(transformFirstShape);
          }
        }
        function drawSecond() {
          var x = 0;
          var y = 0;
          var a = 1;
          var b = 1;
          var rotating = 0;
          var x_trans = 0;
          var y_trans = 0;
          var element = document.getElementById('canvas');
          if (element.getContext) {
              var ctx = canvas.getContext("2d");
              ctx.clearRect(0, 0,  element.width, element.height);
              drawBorder();
              requestAnimationFrame(transformSecondShape);
          }
            function transformSecondShape() { //drawing in 100 frames
              ctx.save();
              ctx.clearRect(0,0,canvas.width,canvas.height);
              drawBorder();
              ctx.fillStyle = "rgb(255,0,0)";      
              
              //transform shape
              ctx.translate(x_trans,y_trans);
              ctx.rotate(rotating * Math.PI / 180);
              ctx.transform(a, 0 , 0, b,0, 0);    
              //draw shape
              ctx.beginPath();
              ctx.moveTo(0,0);
              ctx.lineTo(500,0);
              ctx.lineTo(500,500);
              ctx.lineTo(0,500);
              ctx.lineTo(0,250);
              ctx.lineTo(250,250);
              ctx.lineTo(250,125);
              ctx.lineTo(125,125);
              ctx.lineTo(125,0);
              ctx.lineTo(0,0);
              ctx.fill();
              ctx.restore();
           
              //subtract and add for animation
              rotating = rotating - 1.8;
              a = a - 0.005;
              b = b - 0.005;
              x_trans = x_trans + 5;
              y_trans = y_trans + 2.5;
              x = x + 5;
              y = y + 2.5;
              if(x <= 500) requestAnimationFrame(transformSecondShape);
          }
        }
        function drawThird() {
          var x = 0;
          var y = 0;
          var a = 1;
          var b = 1;
          var element = document.getElementById('canvas');
          if (element.getContext) {
              var ctx = canvas.getContext("2d");
              ctx.clearRect(0, 0,  element.width, element.height);
              drawBorder();
              requestAnimationFrame(transformThirdShape);
          }
            function transformThirdShape() { //drawing in 100 frames
              ctx.save();
              ctx.clearRect(0,0,canvas.width,canvas.height);
              drawBorder();
              ctx.fillStyle = "rgb(255,255,0)";     
              
              //transform shape
              ctx.transform(a, 0 , 0, b,x, y);    
              //draw shape
              ctx.beginPath();
              ctx.moveTo(0,0);
              ctx.lineTo(500,0);
              ctx.lineTo(500,500);
              ctx.lineTo(0,500);
              ctx.lineTo(0,250);
              ctx.lineTo(250,250);
              ctx.lineTo(250,125);
              ctx.lineTo(125,125);
              ctx.lineTo(125,0);
              ctx.lineTo(0,0);
              ctx.fill();
              ctx.restore();
           
              //subtract and add for animation
              a = a - 0.005;
              b = b - 0.005;
              y = y + 2.5;
              if(y < 250) requestAnimationFrame(transformThirdShape);
          }
        }
        function drawFourth() {
          var x = 0;
          var y = 0;
          var a = 1;
          var b = 1;

          var c = 1;
          var d = 0;

          var x_trans = 1;
          var y_trans = 1;
          var rotating = 0;
          var x_translate = 0;
          var y_translate = 0;
          var element = document.getElementById('canvas');
          if (element.getContext) {
              var ctx = canvas.getContext("2d");
              ctx.clearRect(0, 0,  element.width, element.height);
              drawBorder();
              requestAnimationFrame(transformFourthShape);
          }
            function transformFourthShape() { //drawing in 100 frames
              if(y <= 250) 
              {
              ctx.save();
              ctx.clearRect(0,0,canvas.width,canvas.height);
              drawBorder();
              ctx.fillStyle = "rgb(0,125,0)";    
              //transform shape
              //ctx.transform(x_trans, a , b, y_trans,x, y);
              ctx.translate(x_translate,y_translate);
              ctx.rotate(rotating * Math.PI / 180);    
              ctx.transform(a, 0 , 0, b, 0,0);    
              //draw shape
              ctx.beginPath();
              ctx.moveTo(0,0);
              ctx.lineTo(500,0);
              ctx.lineTo(500,500);
              ctx.lineTo(0,500);
              ctx.lineTo(0,250);
              ctx.lineTo(250,250);
              ctx.lineTo(250,125);
              ctx.lineTo(125,125);
              ctx.lineTo(125,0);
              ctx.lineTo(0,0);
              ctx.fill();
              ctx.restore(); 
              //subtract and add for animation
              x_translate = x_translate + 5;
              y_translate = y_translate + 2.5;
              rotating = rotating + 0.9;
              x_trans = x_trans - 0.01;
              y_trans = y_trans - 0.01;
              a = a - 0.005;
              b = b - 0.005;
              x = x + 2.5;
              y = y + 2.5;
                requestAnimationFrame(transformFourthShape);
              }
              else
              {
              ctx.save();
              ctx.clearRect(0,0,canvas.width,canvas.height);
              drawBorder();
              ctx.fillStyle = "rgb(0,125,0)";
              
              ctx.translate(x_translate,y_translate);
              ctx.rotate(rotating * Math.PI / 180);    
              ctx.transform(a, 0 , 0, b, 0,0);    
              
              //transform shape
              ctx.transform(1, 0 , 0, c, 0, d);
              //draw shape
              ctx.beginPath();
              ctx.moveTo(0,0);
              ctx.lineTo(500,0);
              ctx.lineTo(500,500);
              ctx.lineTo(0,500);
              ctx.lineTo(0,250);
              ctx.lineTo(250,250);
              ctx.lineTo(250,125);
              ctx.lineTo(125,125);
              ctx.lineTo(125,0);
              ctx.lineTo(0,0);
              ctx.fill();
              ctx.restore();
           
              //subtract and add for animation
              c = c - 0.02;
              d = d + 5;
              if(c >= -1) requestAnimationFrame(transformFourthShape);
              }
          }
        }
  </script>
 </head>
 <body onload="draw();">
   <h1>2 užduotis</h1>
   <canvas id="canvas" width="500" height="500"></canvas>
 </br>
 <button onclick="drawFirst()" style="padding: 10px;margin:10px">Pirmoji</button>
 <button onclick="drawSecond()" style="padding: 10px;margin:10px">Antroji</button>
 <button onclick="drawThird()" style="padding: 10px;margin:10px">Trečioji</button>
 <button onclick="drawFourth()" style="padding: 10px;margin:10px">Ketvirtoji</button>
 <button onclick="drawTheShape()" style="padding: 10px;margin:10px">Reset</button>
 </body>
</html>